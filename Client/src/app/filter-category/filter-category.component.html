<div class="dynamic-style" *ngIf="posts.length<5">
  <div class="container-fluid" id="main" style="height: 150vh;" >
    <section id="nav">
      <app-navbar></app-navbar>
    </section>
    <!-- category looping -->
    <div class="container">
      <h5 class="text-center text-white">Choose category</h5>
        <div class="buttons">
          <div>
            <a href="/motivation" ><button class='all-btn btn btn-lg' id="all">All</button></a>
          </div>
          <div class="" *ngFor="let category of categories">
            <div>
              <button (click)='goToCategory(category.id)'  (click)="refresh()"  class='custom btn btn-lg '>{{category.category_name}}</button>
            </div>


          </div>



        </div>
        <div class="subscribe">

          <button (click)='subscribeToCat(category.id)' class=' btn-danger btn-sm '>Subscribe to {{category.category_name}}</button>


        </div>


    </div>





    <div class="container-fluid posts" id="post">
      <!-- post looping -->
        <div class="row" >
          <div class="col-md-3" *ngFor="let post of posts">

            <div class="card mb-3">
              <div *ngIf="post.image == null && post.video == null ">
                <img src="assets/post.jpg" class="card-img-top" alt="" height="300">
              </div>
              <div *ngIf="post.image">
                <img src="https://res.cloudinary.com/barbie254/{{post.image}}" class="card-img-top vid-link" alt="..." height="300">
              </div>
              <div *ngIf="post?.video" class="video-icon">
                <div class="col-md-8">
                  <img src="assets/vid-icon.png" class="card-img-top" alt="Video" (click)='goToUrl(post.id)' height="300">

                </div>
              </div>
              <div class="card-body ">
                <h5 class="card-title">Title:{{post.title}}</h5>
                <p class="card-text">Category:{{post.category.category_name}}</p>
                <p class="card-text small">{{post.article| words : 6}}</p>

                <p class="card-text"><small class="">published by {{post.profile.user}}</small></p>
                <p class="card-text"><small class="">{{post.pub_at|date}}</small></p>
              </div>
              <div class="card-footer">
                <div class="icons d-flex">
                  <div class="wishlist">
                    <span class="wishlisttext">Add to wishlist</span>
                    <form action="">
                      <i class="fas fa-save "(click)="addWishlist(post.id)"  ></i>

                    </form>

                  </div>

                </div>

</div>
<div class="dynamic-style" *ngIf="posts.length>4"  >
  <div class="container-fluid" id="main" >
    <section id="nav">
      <app-navbar></app-navbar>
    </section>
    <!-- category looping -->
    <div class="container">
      <h5 class="text-center text-white">Choose category</h5>
        <div class="buttons">
          <div>
            <a href="/motivation" ><button class='all-btn btn btn-lg' id="all">All</button></a>
          </div>
          <div class="" *ngFor="let category of categories">
            <div>
              <button (click)='goToCategory(category.id)'  (click)="refresh()"  class='custom btn btn-lg '>{{category.category_name}}</button>
            </div>


          </div>

        </div>
        <div class="subscribe">
          <form action="">
           <button (click)='subscribeToCat(category.id)' class=' btn-danger btn-sm '>Subscribe to {{category.category_name}}</button>
          </form>

        </div>


    </div>





    <div class="container-fluid posts" id="post">
      <!-- post looping -->
        <div class="row" >
          <div class="col-md-3" *ngFor="let post of posts">

            <div class="card mb-3">
              <div *ngIf="post.image== null && post.video == null ">
                <img src="assets/post.jpg" class="card-img-top" alt="" height="300">
              </div>
              <div *ngIf="post.image">
                <img src="https://res.cloudinary.com/barbie254/{{post.image}}" class="card-img-top vid-link" alt="..." height="300">
              </div>
              <div *ngIf="post?.video" class="video-icon">
                <div class="col-md-8">
                  <img src="assets/vid-icon.png" class="card-img-top" alt="Video" (click)='goToUrl(post.id)' height="300">

                </div>
              </div>
              <div class="card-body ">
                <h5 class="card-title">Title:{{post.title}}</h5>
                <p class="card-text">Category:{{post.category.category_name}}</p>
                <p class="card-text small">{{post.article| words : 6}}</p>

                <p class="card-text"><small class="">published by {{post.profile.user}}</small></p>
                <p class="card-text"><small class="">{{post.pub_at|date}}</small></p>
              </div>
              <div class="card-footer">
                <div class="icons d-flex">
                  <div class="wishlist">
                    <span class="wishlisttext">Add to wishlist</span>
                    <form action="">
                      <i class="fas fa-save "(click)="addWishlist(post.id)"  ></i>

                    </form>

                  </div>
                  

                  

                </div>
                <div class="details">
                    <button (click)='goToUrl(post.id)' class=" view-details btn btn-info">View Details</button>

                </div>

              </div>

          </div>
          </div>


        </div>






    </div>



  </div>
</div>


